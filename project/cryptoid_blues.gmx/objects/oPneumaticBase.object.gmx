<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sPneumaticBase</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1</depth>
  <persistent>0</persistent>
  <parentName>oSolid</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>machine_rot = oPlayer1.machine_rot
if machine_rot = 0 {
    push_direcx = 0
    push_direcy = 1
    y+=39
} else if machine_rot = 90 {
    push_direcx = -1
    push_direcy = 0
} else if machine_rot = 180 {
    push_direcx = 0
    push_direcy = -1
} else if machine_rot = 270 {
    push_direcx = 1
    push_direcy = 0
}


//setCollisionBounds(0,0,sprite_width-1,sprite_height-1)


pushing=true
pause = 60
pause_timer = pause

var fix, inst;
fix = physics_fixture_create()
physics_fixture_set_box_shape(fix, 6, 1)
physics_fixture_set_density(fix, 0)
physics_fixture_set_collision_group(fix, -1)
inst = id
physics_fixture_bind(fix, inst)
physics_fixture_delete(fix)
phy_rotation = machine_rot

this_piston = instance_create(x-4*push_direcx,y-4*push_direcy, oPneumatic)

with this_piston {
    var fix, inst;
fix = physics_fixture_create()
physics_fixture_set_polygon_shape(fix)
physics_fixture_add_point(fix, -6,2)
physics_fixture_add_point(fix, 6,2)
physics_fixture_add_point(fix, 12,3)
physics_fixture_add_point(fix, -12,3)
physics_fixture_set_density(fix, 0.9)
physics_fixture_set_friction(fix, 0.7)
physics_fixture_set_collision_group(fix, 1)
inst = id
physics_fixture_bind(fix, inst)
physics_fixture_delete(fix)
phy_rotation= oPlayer1.machine_rot
}

piston_joint = physics_joint_prismatic_create(id, this_piston, x, y, push_direcx, push_direcy, -40, 0, true, 1000, -20, true, false);


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/*if pushing=true{
    if frame&gt;=0 and frame&lt;3 {
        yVel=-15*push_direcy
        xVel=-15*push_direcx
    } else if frame&gt;=3 and frame&lt;=8 {
        yVel=0
        xVel=0
    } else if frame&gt;8 and frame&lt;=11 {
        yVel=15*push_direcy
        xVel=15*push_direcx
    } else {
        yVel=0
        xVel=0
    }
    frame+=1
    if frame&gt;17{
        frame=0
    }
} else {
    yVel=0
    xVel=0
}

if oldVelLimit&lt;oPlayer1.yVelLimit
    oPlayer1.yVelLimit-=1
*/
//moveTo(xVel,yVel,1)

if pushing = true {
pause_timer -= 1
if pause_timer = 30 {
    physics_joint_set_value(piston_joint, phy_joint_motor_speed , 20)
}
debugphy = 'top'

if pause_timer = 0 {
    physics_joint_set_value(piston_joint, phy_joint_motor_speed , -20)
    pause_timer = pause
}
} else {
    physics_joint_set_value(piston_joint, phy_joint_motor_speed , 0)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsShapePoints/>
</object>
